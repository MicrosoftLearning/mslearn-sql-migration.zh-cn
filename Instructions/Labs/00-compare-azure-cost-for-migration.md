---
lab:
  title: 比较 Azure 迁移成本
---

# 比较 Azure 迁移成本

Azure 定价计算器是一个有用的工具，可用于在数据平台现代化项目期间估算不同 Azure 服务和迁移方法的成本。

这家全球零售商的数据平台现代化项目有望实现大量节省，但董事会要求你尽可能准确地估算不同 Azure 迁移选项的成本。

在此，你将使用 [Azure 定价计算器](https://azure.microsoft.com/en-us/pricing/calculator/)计算迁移到 Azure 的估算成本。

该练习大约需要 **30** 分钟。

## 计算估算的 Azure 成本

1. 打开一个新的浏览器标签页，导航至“Azure 定价计算器”[](https://azure.microsoft.com/en-us/pricing/calculator/)。
1. Azure 定价计算器可帮助估算 Azure 服务的成本。 我们将计算将数据库工作负载迁移到 Azure 的成本。

## 添加数据库工作负载

1. 在“产品”部分，找到并选择“Azure SQL 数据库”（可以使用搜索或浏览“数据库”类别）。************
1. 在此页面更下面显示的“Azure SQL 数据库”配置面板中，输入以下值：****

    | 属性 | Value |
    | --- | --- |
    | 区域 | 美国东部****（或你的首选区域） |
    | 类型 | **单一数据库** |
    | 采购模型 | **vCore** |
    | 服务层级 | **常规用途** |
    | 计算层 | **已预配** |
    | 硬件类型 | **标准系列 (Gen5)** |
    | 实例 | 4 个 vCore**** |
    | 灾难恢复 | 主副本或异地副本**** |
    | 计算 | 本地冗余**** |
    | 存储 | **32 GB** |
    | 备份存储 | **RA-GRS** |

1. 查看显示的 SQL 数据库的每月估算成本。

## 添加虚拟机以进行比较

1. 返回“产品”部分，找到并选择“虚拟机”。********
1. 在“虚拟机”配置面板中，输入以下值：****

    | 属性 | Value |
    | --- | --- |
    | 区域 | 美国东部（与数据库相同）**** |
    | 操作系统 | **Windows** |
    | 类型 | **SQL Server** |
    | 层 | **标准** |
    | 实例 | D4s v3****（4 个 vCPU，16 GB RAM） |
    | 虚拟机 | **1** |
    | 许可证 | SQL 标准**** |

1. 展开“托管磁盘”，并添加以下信息：****
   - 层：高级 SSD，128 GB********

## 添加存储以用于备份

1. 在“产品”部分中，找到并选择“存储帐户”。********
1. 在“存储帐户”配置面板中，输入以下值：****

    | 属性 | Value |
    | --- | --- |
    | 区域 | **美国东部** |
    | 类型 | 块 Blob 存储**** |
    | 性能 | **标准** |
    | 存储帐户类型 | 常规用途 v2**** |
    | 文件结构 | 平面命名空间**** |
    | 访问层 | **热访问层** |
    | 冗余 | **LRS** |
    | 容量 | **1 TB** |

## 查看和比较成本

1. 查看已添加的所有服务的每月估算总成本：
   - SQL 数据库****：完全托管的数据库服务成本
   - **虚拟机**：VM 上的 SQL Server 的基础结构成本
   - 存储帐户****：备份和其他存储成本

1. 查看估算值时，请思考以下问题：
   - SQL 数据库 (PaaS) 与 VM 上的 SQL Server (IaaS) 成本相比如何？
   - 托管服务与基础结构服务之间如何权衡利弊？
   - 这些成本如何随工作负载要求进行缩放？

1. 可以通过选择“保存”或“导出”并与利益干系人共享，来保存此估算值。********

## 探索成本优化选项

1. 在每个服务配置中，浏览不同的选项以了解它们对成本的影响：
   - SQL 数据库****：尝试不同的服务层级（基本、标准、高级）和计算大小
   - **虚拟机**：比较不同的 VM 大小和存储选项
   - **存储**：比较不同的冗余选项和访问层

1. 注意更改这些选项会对每月总估算值有何影响。

你已使用 Azure 定价计算器来估算将 Adatum Corporation 的记帐服务器及其关联的数据库迁移到不同的 Azure 服务的成本。 这为比较基础结构即服务 (IaaS) 与平台即服务 (PaaS) 选项以及规划迁移预算提供了基础。

